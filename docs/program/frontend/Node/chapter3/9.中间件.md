# 中间件

## 什么是中间件 

中间件（Middleware）本质是一个回调函数，所以也叫中间件函数

中间件可以像路由回调一样去访问请求对象（request）和响应对象（response）

即，中间件可以获取请求内容，还可以对响应结果进行设置。

## 中间件的作用 

中间件的作用就是**使用函数封装公共操作，简化代码**

## 中间件的类型 

- 全局中间件

  请求从浏览器发到服务器上时，全局中间件就会执行。全局中间件执行完，还会去执行对应的路由回调。

  只要是请求发送到了服务器，全局中间件都会执行。

- 路由中间件

  请求从浏览器发到服务器上，匹配到了对应的路由，路由中间件就会执行。路由中间件触发是和路由绑定的。

> 使用中间件可以在触发响应之前对请求做一些处理，全局中间件对所有请求进行处理，路由中间件对对应路由的响应进行处理