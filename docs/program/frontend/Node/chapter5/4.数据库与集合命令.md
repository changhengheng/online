# 数据库与集合命令

命令行交互一般是学习数据库的第一步，不过这些命令在后续用的比较少，所以大家了解即可

## 数据库命令

1. 显示所有的数据库

    ```
    show dbs
    ```

2. 切换到指定的数据库，如果数据库不存在会自动创建数据库

    ```
    use 数据库名
    ```

3. 显示当前所在的数据库

    ```
    db
    ```

4. 删除当前数据库

    ```
    use 库名
    db.dropDatabase()
    ```

## 集合命令

1. 创建集合

    ```
    db.createCollection('集合名称')
    ```

2. 显示当前数据库中的所有集合

    ```
    show collections
    ```

3. 删除某个集合

    ```
    db.集合名.drop()
    ```

4. 重命名集合

    ```
    db.集合名.renameCollection('newName')
    ```

## 文档命令

1. 插入文档

    ```
    db.集合名.insert(文档对象);
    ```

2. 查询文档

    ```
    db.集合名.find(查询条件)
    ```

    > _id 是 mongodb 自动生成的唯一编号，用来唯一标识文档

3. 更新文档

    ```
    db.集合名.update(查询条件,新的文档)
    db.集合名.update({name:'张三'},{$set:{age:19}})
    ```

4. 删除文档

    ```
    db.集合名.remove(查询条件)
    ```

## 应用场景

### 新增

- 用户注册
- 发布视频
- 发布商品
- 发朋友圈
- 发评论
- 发微博
- 发弹幕
- .......

### 删除

- 删除评论
- 删除商品
- 删除文章
- 删除视频
- 删除微博
- ......

### 更新

- 更新个人信息
- 修改商品价格
- 修改文章内容
- ......

### 查询

- 商品列表
- 视频列表
- 朋友圈列表
- 微博列表
- 搜索功能
- ......
