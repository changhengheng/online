# 响应静态网页

## res.render(view [, locals] [, callback])

渲染 view 并将渲染的 HTML 字符串发送到客户端。

view 参数是一个字符串，它是要渲染的视图文件的文件路径。 这可以是绝对路径，也可以是相对于 views 设置的模板文件所在目录的路径。 如果路径不包含文件扩展名，则由 view engine 设置的模板引擎确定文件扩展名。 如果路径确实包含文件扩展名，那么 Express 将加载指定模板引擎的模块（通过 require()）并使用加载模块的 __express 函数渲染它。

```js
// 记账本列表
router.get('/account', function (req, res, next) {
  // 能直接写不带扩展名的list有两个必要条件：1.设置了模板引擎 2.设置了模板文件目录
  res.render("list")
});
```

## 模板文件带有外部资源的问题（script标签、link标签等等）

静态资源要存放在 `app.use(express.static(path.join(__dirname, 'public')));` 指定的静态资源根目录下，Express 会相对于静态资源根目录查找文件（因此静态目录的名称不是 URL 的一部分），如果找不到会报404。

静态资源URL例子： `http://localhost:3000/css/style.css`

相对路径大概率会报错，因为相对路径会与当前页面 URL 的协议、主机名、端口拼接形成完整 URL 再发送请求，因此如果当前页面路径不是指定的静态资源根目录，就会找不到对应的静态资源，就会报404；而且协议、主机名和端口可能会发生变化，所以相对路径也不稳定。

应该使用绝对路径。

webpack项目中，模板文件引入外部资源如果使用了相对路径，打包后放到服务器上就会报错，原理和这个是一样的。
