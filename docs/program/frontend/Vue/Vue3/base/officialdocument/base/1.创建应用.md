# 创建应用

每个 Vue 应用都是通过 createApp 函数创建的一个应用实例：

```ts
// 1. 引入createApp 函数
import { createApp } from "vue";

// 2. 引入根组件
import App from "./App.vue";

// 3. 创建一个应用实例（需要传入根组件）
const app = createApp(App);

// 4. 挂载应用实例
app.mount("#app");
```

## 根组件

每个 Vue 应用都需要一个根组件，其他组件都将成为根组件的子组件。一个 Vue 应用通常是由一棵嵌套的、可重用的组件树组成。

## 挂载应用

挂载是指虚拟 DOM 转换成真实 DOM 的过程。

使用 createApp() 创建应用实例之后，需要将其挂载到容器中。挂载应用使用应用实例的 mount() 方法完成。

应用挂载完成后，应用根组件的内容将会被渲染在容器元素中。

注意：

- 容器元素本身不属于应用的一部分。
- 挂载操作应该在整个应用配置和资源注册完成后被调用。
- 不同于其他资源注册方法，mount() 的返回值是根组件实例而非应用实例。

## 根组件模板

根组件 App.vue 的模板是指其 `<template></template>` 标签，或者由其配置项 `template` 提供（Vue 组件本质上就是一个配置对象）。

根组件的模板通常是组件本身的一部分，但也可以直接通过在挂载容器内编写模板来单独提供。

当根组件没有设置 template 选项时，Vue 将自动使用容器的 innerHTML 作为模板。

使用容器 innerHTML 作为模板的场景：

- 无构建步骤的 Vue 应用程序
- SSR

## 应用配置和资源注册

应用配置指通过 app 应用实例提供的 .config 对象配置一些应用级的选项，比如：

- app.config.errorHandler：用于为应用内抛出的未捕获错误指定一个全局处理函数。
- app.config.globalProperties：注册能够被应用内所有组件实例访问到的全局属性的对象。

资源注册指通过 app 应用实例提供的一些方法来注册应用范围内可用的资源，比如：

- app.directive() ：注册全局指令
- app.use() ：安装插件
- app.mixin() ：应用一个全局 mixin
- app.component() ：注册全局组件

## 多实例

应用实例可以同时存在多个，而且每个应用都拥有自己的用于配置和全局资源的作用域。

应用场景：如果你正在使用 Vue 来增强服务端渲染 HTML，并且只想要 Vue 去控制一个大型页面中特殊的一小部分，应避免将一个单独的 Vue 应用实例挂载到整个页面上，而是应该创建多个小的应用实例，将它们分别挂载到所需的元素上去。
